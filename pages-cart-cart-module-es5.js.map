{"version":3,"sources":["webpack:///src/app/pages/cart/cart-routing.module.ts","webpack:///src/app/pages/cart/cart.module.ts","webpack:///src/app/pages/cart/cart.component.ts","webpack:///src/app/pages/cart/cart.component.html"],"names":["routes","path","component","CartRoutingModule","forChild","imports","exports","CartModule","declarations","CartComponent","orderService","commonService","router","cartList","isAdmin","confirmDialogMsg","setTitle","getOrderListByPartyId","getAllOrders","subscribe","data","error","partyId","getUser","userId","getOrderListByPartyIdForCart","id","navigate","i","quantity","forEach","e","orderStatus","saveFromCart","deleteOrder","selector","templateUrl","styleUrls"],"mappings":"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","file":"pages-cart-cart-module-es5.js","sourcesContent":["import { NgModule } from \"@angular/core\";\r\nimport { Routes, RouterModule } from \"@angular/router\";\r\n\r\nimport { CartComponent } from \"./cart.component\";\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    component: CartComponent,\r\n  },\r\n  {\r\n    path: \"cart\",\r\n    component: CartComponent,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CartRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { CartRoutingModule } from './cart-routing.module';\r\nimport { CartComponent } from './cart.component';\r\nimport { SharedModule } from 'app/@theme/shared.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [CartComponent],\r\n  imports: [\r\n    CommonModule,\r\n    CartRoutingModule,\r\n    SharedModule\r\n  ]\r\n})\r\nexport class CartModule { }\r\n","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ConfirmationDialogComponent } from 'app/@theme/components/confirmation-dialog/confirmation-dialog.component';\r\nimport { PlaceOrder } from 'app/@theme/model/order';\r\nimport { CommonService } from 'app/@theme/services/common.service';\r\nimport { OrderService } from 'app/@theme/services/order.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n@Component({\r\n  selector: 'ngx-cart',\r\n  templateUrl: './cart.component.html',\r\n  styleUrls: ['./cart.component.scss']\r\n})\r\nexport class CartComponent implements OnInit {\r\n\r\n  cartList: PlaceOrder[] = [];\r\n  isAdmin: boolean = false;\r\n  confirmDialogMsg:string = '';\r\n\r\n  constructor(\r\n    private orderService: OrderService,\r\n    private commonService: CommonService,\r\n    private router: Router\r\n  ) {\r\n    this.commonService.setTitle(\"My Cart\")\r\n  }\r\n\r\n  ngOnInit(): void {\r\n      this.isAdmin = false;\r\n      this.getOrderListByPartyId();\r\n  }\r\n\r\n  getAllOrderList() {\r\n    this.orderService.getAllOrders().subscribe(\r\n      (data) => {\r\n        if (data[\"success\"]) this.cartList = data[\"data\"];\r\n      },\r\n      (error) => {}\r\n    );\r\n  }\r\n\r\n  getOrderListByPartyId() {\r\n    let partyId = this.commonService.getUser().userId;\r\n    this.orderService.getOrderListByPartyIdForCart(partyId).subscribe(\r\n      (data) => {\r\n        if (data[\"success\"]) this.cartList = data[\"data\"];\r\n      },\r\n      (error) => {}\r\n    );\r\n  }\r\n\r\n  editOrderFromCart(id){\r\n    this.router.navigate(['pages/order/edit',id])\r\n  }\r\n\r\n  incrementQty(i){\r\n    this.cartList[i].quantity++;\r\n  }\r\n\r\n  decrementQty(i){\r\n    if(this.cartList[i].quantity!=1)\r\n    this.cartList[i].quantity--;\r\n  }\r\n\r\n  placeOrderFromCart(){\r\n    this.cartList.forEach(e=>{\r\n      e.orderStatus = 'Confirmed';\r\n    });\r\n    this.orderService.saveFromCart(this.cartList).subscribe(\r\n      data=>{\r\n        if(data['success']){\r\n          //this.toastr.success('Order placed successfully')\r\n          this.cartList = [];\r\n          this.getOrderListByPartyId();\r\n        }\r\n        //else\r\n        //this.toastr.error(data['msg'])\r\n      },\r\n      error=>{\r\n        //this.toastr.error('Internal server error')\r\n      }\r\n    )\r\n  }\r\n\r\n  deleteFromCart(id){\r\n    this.orderService.deleteOrder(id).subscribe(\r\n      data=>{\r\n        if(data['success']){\r\n          //this.toastr.success('Order deleted successfully')\r\n          this.getOrderListByPartyId();\r\n        }\r\n        //else\r\n        //this.toastr.error(data['msg'])\r\n      },\r\n      error=>{\r\n        //this.toastr.error('Internal server error')\r\n      }\r\n    )\r\n  }\r\n}\r\n","<nb-card class=\"nb-style\">\r\n    <!-- <nb-card-header class=\"nb-header\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-9 col-7\">\r\n                <h2 class=\"nb-text\">My Cart</h2>\r\n            </div>\r\n        </div>\r\n    </nb-card-header> -->\r\n    <nb-card-body class=\"mobile-bg-color pd-0\">\r\n\r\n        <div *ngIf=\"cartList?.length != 0\">\r\n            <nb-card *ngFor=\"let item of cartList; let i = index\">\r\n                <nb-card-body class=\"cart-nb-card\">\r\n                    <div class=\"row\">\r\n\r\n                        <div class=\"col-md-5 col-4 pd-0\">\r\n                            <div class=\"cart-img\">\r\n                                <img src=\"../../../assets/img/chair-new.jpg\" class=\"img-fluid\" alt=\"\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-md-7 col-8 pd-0\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-12\">\r\n                                    <div class=\"main-desc-detail\">\r\n                                        <div class=\"detail-data\">\r\n                                            <span class=\"detail-data-listing main-cart-name\">{{item.productType}}</span>\r\n                                        </div>\r\n                                    </div>\r\n\r\n\r\n                                </div>\r\n                                <div class=\"col-12\">\r\n                                    <div class=\"main-desc-detail\"><span>Quality:</span>\r\n                                        <div class=\"detail-data\">\r\n                                            <span class=\"detail-data-listing\">{{item.productQuality}}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-12\">\r\n                                    <div class=\"main-desc-detail\"><span>Capacity:</span>\r\n                                        <div class=\"detail-data\">\r\n                                            <span class=\"detail-data-listing\">{{item.productCapacity}}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-12\">\r\n                                    <div class=\"main-desc-detail\"><span>PackageSize:</span>\r\n                                        <div class=\"detail-data\">\r\n                                            <span class=\"detail-data-listing\">{{item.productPackageSize}}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-12\">\r\n                                    <div class=\"main-desc-detail\"><span>PackageSize:</span>\r\n                                        <div class=\"detail-data\">\r\n                                            <span class=\"detail-data-listing\">{{item.productPackageSize}}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-12\">\r\n                                    <div class=\"form-group dis-fles\">\r\n                                        <span class=\"dis-inli qty-label cart-qty\">Quantity</span>\r\n                                        <div class=\"dis-cart\">\r\n                                            <div class=\"quantity-control cart-control\" data-quantity=\"\">\r\n                                                <button class=\"quantity-btn dis-fl cart-btn\" (click)=\"incrementQty(i)\" data-quantity-minus=\"\">\r\n                                                    <nb-icon icon=\"plus-outline\" class=\"main-icon\"></nb-icon>\r\n                                                </button>\r\n                                                <input type=\"number\" class=\"quantity-input cart-input\"\r\n                                                    data-quantity-target=\"\" [(ngModel)]=\"item.quantity\" value=\"1\" step=\"1\" min=\"1\" max=\"\"\r\n                                                    name=\"quantity\">\r\n                                                <button class=\"quantity-btn dis-fl cart-btn\" (click)=\"decrementQty(i)\" data-quantity-plus=\"\">\r\n                                                    <nb-icon icon=\"minus-outline\" class=\"main-icon\"></nb-icon>\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <!-- <div><span>Quality: {{item.productQuality}}</span></div>\r\n                            <div><span>Capacity: {{item.productCapacity}}</span></div>\r\n                            <div><span>PackageSize: {{item.productPackageSize}}</span></div>\r\n                            <div><span>Quantity: {{item.quantity}} </span></div> -->\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                </nb-card-body>\r\n                <div class=\"container\">\r\n                    <div class=\"border-top\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-1 col-4\">\r\n\r\n                                <button type=\"button\" (click)=\"editOrderFromCart(item.id)\"\r\n                                    class=\"btn btn-primary cart-ed-de-btn edit-color\">\r\n                                     Edit\r\n                                </button>\r\n\r\n                            </div>\r\n                            <div class=\"col-md-1 col-8\">\r\n                                <button type=\"button\" (click)=\"deleteFromCart(item.id)\"\r\n                                    class=\"btn btn-primary cart-ed-de-btn delete-color\">\r\n                                    Remove Item\r\n                                </button>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </nb-card>\r\n        </div>\r\n\r\n        <div *ngIf=\"cartList?.length != 0\">\r\n            <button class=\"btn btn-primary btn-sm btn-design cart-checkout-btn\" type=\"button\"\r\n                (click)=\"placeOrderFromCart()\">Checkout <nb-icon icon=\"shopping-bag-outline\" class=\"checkout-icon\"></nb-icon></button>\r\n        </div>\r\n        <div *ngIf=\"cartList?.length == 0\">\r\n            <span>No order available in your cart.</span>\r\n        </div>\r\n\r\n    </nb-card-body>\r\n</nb-card>"]}